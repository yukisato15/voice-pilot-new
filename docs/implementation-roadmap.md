# 実装ロードマップ

## フェーズ 0: 環境準備 (1-2 日)
- Node.js 20+/npm, Python 3.10+, ffmpeg 6+ の導入確認。
- Electron + React + TypeScript の雛形生成 (`electron-vite` など)。
- Python 仮想環境構築と依存パッケージのピン止め。
- `electron-store` の初期設定と `config.json` スキーマ投入。

## フェーズ 1: コアフロー確立 (1 週間)
- 起動時モーダル UI と同意チェックの実装。
- Python ワーカー雛形と IPC 経由の PDF 生成連携。
- Zoom 録画フォルダ自動検出と手動選択 UI。
- `chokidar` 監視で録画ステータスを取得し、Renderer に伝播。

## フェーズ 2: セッション進行機能 (1-1.5 週間)
- テーマ CSV ローダと重複チェック実装。
- 進行画面 (テーマ表示、ヒント、タイマー、無音指示)。
- ヒント利用ログ・30 分休憩アラート・インターバルガイド。
- ヘッドホン漏れ診断 (WebAudio) と閾値判定 UI。

## フェーズ 3: ファイル処理とアップロード (1 週間)
- 録画停止後の変換完了検出と処理キュー投入。
- 命名規則・メタデータ・cues JSON の生成。
- ffmpeg LR 合成とラウドネス正規化 (任意設定)。
- S3/SFTP/Box のプラガブルアップロード (まずは 1 種を完成させる)。
- `upload_report.csv` 生成と UI での結果表示。

## フェーズ 4: 安定化とテスト (1 週間)
- エラーダイアログ、再試行キュー、バックオフ戦略。
- 疑似録画ファイルでの E2E テストスクリプト。
- ログ整備 (`app.log`, `python.log`) とユーザーへの可視化。
- macOS/Windows 両環境での動作確認とビルドスクリプト整備 (Electron Builder)。

## フェーズ 5: 任意強化
- LR ラウドネス自動調整、BGM/ビープなどの追加機能。
- 認証情報の OS キーチェーン連携 (`keytar`)。
- 自動更新導入 (Electron autoUpdater)。
- Premiere 用マーカー出力など将来拡張。

## リスクと対策
- **Zoom フォルダ構造の変化**: フォールバックで手動選択を必須にする。
- **ffmpeg バンドル**: ライセンス確認と初回ダウンロード時の同意ダイアログ。
- **マイク権限**: macOS の権限ダイアログを案内するヘルプ表示。
- **大容量アップロード失敗**: 再試行とレジューム機能、帯域制御を検討。

## マイルストーンと受け入れ
- フェーズ 1+2 完了で内部ユーザーテスト。
- フェーズ 3 完了で Acceptance Checklist の 1-7 を満たすか検証。
- フェーズ 4 完了でパイロット配布、ログ監視を開始。

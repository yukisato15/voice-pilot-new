# レビュー画面 & メッセージテンプレ UI 草案（Phase 2 向け）

## 1. コンセプト
- 第 1 セッション終了後にディレクターがレビュー情報を整理しやすい「レビュー画面」と、収録中に即時掲示できる「メッセージテンプレ」を Phase 2 の主機能として想定。
- DirectorConsole 内にタブまたはセクションを追加し、ライブ進行からレビュー操作へスムーズに遷移できるようにする。

## 2. レビュー画面 UI 案
### レイアウト（3 カラム想定）
1. **ヘッダー**
   - テーマ名、収録時間、ディレクター名（任意）を表示。
   - 「再収録を依頼」ボタン（押下でリテイクフラグを付与）。
2. **左カラム：タイムライン／イベントログ**
   - 既存の出来事ログを時系列順に表示。
   - 区間（カットIN/OUT）も可視化し、ドラッグで範囲調整できる UI を将来的に検討。
3. **中央カラム：メモ編集フォーム**
   - メモ本文、話者 A/B、重要度タグ（要フォロー、軽微など）。
   - 保存時に `director_notes.csv` に反映。
4. **右カラム：エクスポートまとめ**
   - 次の出力トリガー（CSV、FCPXML、JSONL）。
   - 直近のエクスポート履歴（日時／フォルダパス／操作者）。

### 状態遷移
- 進行画面で「終了」→ STOP 後、「レビュー開始」ボタンで画面遷移。
- レビュー完了後に「次テーマへ」「ダッシュボードへ戻る」ボタンで Phase 1 のループへ復帰。

## 3. メッセージテンプレ UI 案
### テンプレ管理
- DirectorConsole のサイドパネルに「テンプレ一覧」を配置。
- カテゴリ別（注意／励まし／進行）でフィルタリング。
- 新規追加・編集はモーダルで実装し、ローカル JSON に保存。

### 送信 UI
- テンプレの行をクリックすると SharedStage に即時表示。
- 表示秒数・フォントサイズをテンプレ単位で設定可能（`memoDisplaySec` の拡張）。
- 送信履歴は出来事ログとは別に保持し、レビュー画面で参照できるようにする。

## 4. データ構造メモ
- `messageTemplates`: `{ id, title, body, category, ttlSec, textStyle }[]`
- Redux store への追加と、`config` または専用 JSON ファイルへの永続化を検討。
- IPC による保存・読み込み (`messageTemplates/load`, `messageTemplates/save`) を Phase 2 にて実装。

## 5. 次ステップ
1. ワイヤーフレーム（Figma など）で詳しいレイアウト案を作成。
2. Redux state／IPC の変更点を洗い出し、Issue 化。
3. テンプレ編集モーダルとレビュー画面のルーティング（タブ遷移 or ページ遷移）を確定。

